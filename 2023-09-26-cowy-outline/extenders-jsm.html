<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>A new wave of ggplot2 extenders</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr.¬†Evangeline Reynolds" />
    <script src="libs/header-attrs-2.26/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/hygge.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">






class: inverse, bottom
background-image: url(https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1470&amp;q=80)
background-size: cover

# .Large[Who are the ggplot2 extenders]
## .large[And how to become one...]
#### .small[Dr. Evangeline Reynolds | 2025-08-05 | JSM, Nashville, Image credit: Silas Baisch, Upsplash]


---

# I'm here to advertise a ggplot2 extension meetup/club/working group‚Ä¶

---


# Also known as 'the ggplot2 extenders'

![](images/clipboard-527321121.png)


---

# So instead of answering Part I. 'who are the ggplot2 extenders?‚Äô

--

# as 'who has extended ggplot2‚Äô,

![](images/clipboard-4242710445.png)

---

# So instead of answering Part I. ‚Äòwho are the ggplot2 extenders?‚Äô

# as ‚Äòwho has extended ggplot2‚Äô,

# I‚Äôll answer in the very specific sense, ‚Äòwhat‚Äôs this new meet up/community‚Äô?

---

## ‚Äòthe ggplot2 extenders‚Äô group has been meeting virtually since April 2022

‚Äî-

### Exists to facilitate conversations about extension experiences.

--

### Co-founded w/ June Choe and myself, and benefited from early and continued involvement of Teun van den Brand, current maintainer of ggplot2

--

### Has heard from almost 30 extenders on their projects

---

![](images/clipboard-836013170.png)

---

### Notable:¬†David Sjoberg (ggbump), **June Choe (ggtrace),** Claus Wilke (cowplot, ggtext, ggridgeline), Di Cook (GGally), Thomas Lin Pedersen\* (patchwork) , Winston Chang\* (ggproto extension mechanism), Teun van den Brand (ggh4x, legendry, ggplot2 maintainer), and Hadley Wickham\* (ggplot2), **Cory Brunson (ggalluvial, order), Mitchell O‚ÄôHara-Wild (ggtime, distributional), Matthew Kay\* (ggdist, ggblend),**

--

### Speakers talk about motivations, challenges, equivocations, design decision ‚Äî in general, extension journeys!

--

#### \* recorded talks available on our website

---

## Since spring 2024, our between-meeting discussions has also been an exciting space to exchange ideas about extension strategies and design choices!

--

### almost 100 discussions initiated

--

### - more than 1000 contributions

--

### - used to coordinate this panel - Thanks Joyce!

---

![](images/clipboard-4093491883.png)

---

# But you may be thinking‚Ä¶

--

## ‚Äòggplot2 extenders‚Äô ‚Ä¶


--

## wouldn't that be for extenders? ‚Ä¶ 


--

## I‚Äôm not an extender. ‚õîÔ∏è 

---

# Maybe you have a latent extender in you‚Ä¶

---

class: inverse, bottom
background-image: url(https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1470&amp;q=80)
background-size: cover

---

# Part II. How do you become a ggplot2 extender?

## ‚Ä¶ we want to be more active in the education space and have more events that welcome to ggplot2 users (latent extenders).


---

# Events of general interest (ggplot2 users) coming up this fall:

### - ggplot2 4.0.0 release party üíø

--

### - ggplot2 X LLMs (ggpal)

--

### - ggplot2 X interactivity (ggiraph with David Gohels)


---


# ‚ÄòExtension is not for the faint of heart...‚Äô 

--

# ‚ÄòI found extension daunting...‚Äô

--

# Education: ‚ÄòEasy geom_*() recipes‚Äô‚Ä¶ aimed at beginners (ggplot2 users).  https://evamaerey.github.io/easy-geom-recipes/


---

## Easy recipes 2025... 3 examples, 3 exercises, 3 objectives:


## - 1. Learn how to prepare compute for group-wise computation in a layer

--

## - 2. Learn how to define a Stat (and test)

--

## - 3. Learn how to combine a Stat and Geom into a user-facing function

---

## How to make it easy?

## - easy, familiar (boring) compute

--

## - step-by-step

--

## - pre step (Step 0) - connect it to what you know (get the job done with base ggplot2)



---

&lt;img src="../../posit-consulting/step0.png" width="2800" /&gt;

---

&lt;img src="../../posit-consulting/step1.png" width="2800" /&gt;

---

&lt;img src="../../posit-consulting/step3.png" width="1600" /&gt;

---

&lt;img src="../../posit-consulting/done.png" width="2800" /&gt;


---

# 'Thanks for sharing these recipes! I've never written my own 'geoms' because I had no idea where to start, but with this resource I'll be putting this to use in my own work soon.'


---

# 'Thanks for putting this into the world' Thomas Lin Pederson


---

# Vetted by experts.

--

# Tested by newcomers.

--

# Feedback refined. (survey + focus groups)

--

# Kept up-to-date. (ggplot2 4.0.0 release-aware - and now 4 examples, 4 exercises, 4 objectives...)


---


# 'It was that easy. And I felt empowered as a result of that‚Ä¶. But you know, like, my problem isn‚Äôt gonna be that easy.'

--

# Realistic! These are 'easy' recipes. 
--
But we have a support group for when things get harder (ggplot2 extenders)‚Ä¶ (and more educational resources in the works)

--

# We'd be glad to see you at the extenders meetup!!

--

# Thank you.



---

&lt;!-- ##  --&gt;

&lt;!-- #  --&gt;

&lt;!-- # Outline --&gt;

&lt;!-- ## Why data visualization? (preattentive processing - effortless, efficient data communication) --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## Why ggplot2? (effortless plot specification, like 'spontaneous language in conversation' - like should 'grammar of graphics' be 'language of graphics') --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## Why extension? (allows for fluency to continue in domains 'base' ggplot2 doesn't support) --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## How to support extenders (newcomers to extension)? --&gt;

&lt;!-- -   New educational material --&gt;
&lt;!-- -   &amp; community --&gt;

&lt;!-- &lt;!-- ## And how the recipes came to be... --&gt; --&gt;

&lt;!-- &lt;!-- -- --&gt; --&gt;

&lt;!-- &lt;!-- ## What the ggplot2 4.0.0 release means for the recipes --&gt; --&gt;

&lt;!-- -- --&gt;

&lt;!-- ```{r setup, include=FALSE} --&gt;
&lt;!-- knitr::opts_chunk$set(echo = TRUE, cache = F, warning = F, message = F) --&gt;
&lt;!-- options(tidyverse.quiet = TRUE) --&gt;
&lt;!-- library(flipbookr) --&gt;
&lt;!-- library(tidyverse) --&gt;


&lt;!-- isi_donor_url &lt;- "https://www.isi-stats.com/isi/data/prelim/OrganDonor.txt" --&gt;

&lt;!-- donor &lt;- read_delim(isi_donor_url) %&gt;% --&gt;
&lt;!--   select(Default, Choice) %&gt;%  --&gt;
&lt;!--   mutate(decision = ifelse(Choice == "donor", "donor (1)", "not (0)")) %&gt;%  --&gt;
&lt;!--   mutate(decision = fct_rev(decision))  --&gt;


&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ###  --&gt;

&lt;!-- Effortless consumption of information - --&gt;

&lt;!-- 'preattentive processing' --&gt;

&lt;!-- 1/5 of second to identify shapes, patterns, anomolies, regions of high density etc. --&gt;

&lt;!-- -- --&gt;

&lt;!-- With no 'hit' to cognitive resources. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- &gt; ### "When I need to make sense of some data ... [ggplot2] continues to be just the best thing ever." -- Dewey Dunningham --&gt;

&lt;!-- -- --&gt;

&lt;!-- # Me: Same! ('You had me at hello'...) --&gt;

&lt;!-- --- --&gt;
&lt;!-- class: middle, inverse, center --&gt;


&lt;!-- # It lets you *'speak your plot into existence'*. (Thomas Lin Pederson) (so your data can easily speak back to you! i.e. reveal patterns) --&gt;
&lt;!-- --- --&gt;

&lt;!-- ```{r, include = F} --&gt;
&lt;!--  knitr::opts_chunk$set(echo = F, comment = "", message = F,  --&gt;
&lt;!--                        warning = F, cache = T, fig.retina = 3) --&gt;
&lt;!--  library(tidyverse) --&gt;
&lt;!--  library(flipbookr) --&gt;
&lt;!--  library(xaringanthemer) --&gt;
&lt;!--  xaringanthemer::mono_light( --&gt;
&lt;!--    base_color = "#02075D", --&gt;
&lt;!--    # header_font_google = google_font("Josefin Sans"), --&gt;
&lt;!--    # text_font_google   = google_font("Montserrat", "200", "200i"), --&gt;
&lt;!--    # code_font_google   = google_font("Droid Mono"), --&gt;
&lt;!--    text_font_size = ".85cm", --&gt;
&lt;!--    code_font_size = ".15cm") --&gt;
&lt;!-- theme_set(theme_gray(base_size = 20)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;
&lt;!-- class: inverse, center, middle --&gt;

&lt;!-- &gt; # "the Grammar of Graphics makes [building plots] easy because you've just got all these, like, little nice decomposable components" -- Hadley Wickham --&gt;
&lt;!-- --- --&gt;

&lt;!-- Hadley Wickham, on it's motivation: --&gt;

&lt;!-- &gt; ### And, you know, I'd get a dataset. And, *in my head I could very clearly kind of picture*, I want to put this on the x-axis. Let's put this on the y-axis, draw a line, put some points here, break it up by this variable. --&gt;

&lt;!-- -- --&gt;

&lt;!-- &gt; ### And then, like, getting that vision out of my head, and into reality, it's just really, really hard. Just, like, felt harder than it should be. Like, there's a lot of custom programming involved, --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- &gt; ### where I just felt, like, to me, I just wanted to say, like, you know, *this is what I'm thinking, this is how I'm picturing this plot. Like you're the computer 'Go and do it'.* --&gt;

&lt;!-- |                                                                                                                                                                                                                                                               | --&gt;
&lt;!-- |----| --&gt;
&lt;!-- | \&gt; \### ... and I'd also been reading about the Grammar of Graphics by Leland Wilkinson, I got to meet him a couple of times and ... I was, like, this book has been, like, written for me. &lt;https://www.trifacta.com/podcast/tidy-data-with-hadley-wickham/&gt; | --&gt;

&lt;!-- ```{r, include = F} --&gt;
&lt;!-- library(tidyverse) --&gt;
&lt;!-- library(gapminder) --&gt;
&lt;!-- gapminder %&gt;%  # data from package --&gt;
&lt;!--   filter(year == 2002) -&gt; --&gt;
&lt;!-- gapminder_2002 --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- r chunk_reveal("scatter", title = "## ggplot2 nails it...", widths = c(2,3))` --&gt;

&lt;!-- ```{r scatter, include = F} --&gt;
&lt;!-- ggplot(data = gapminder_2002) + --&gt;
&lt;!--   aes(x = gdpPercap) + --&gt;
&lt;!--   aes(y = lifeExp) +  --&gt;
&lt;!--   geom_point() +   --&gt;
&lt;!--   geom_smooth() + --&gt;
&lt;!--   facet_wrap(vars(continent)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- &lt;!-- class: inverse, center, middle --&gt; --&gt;

&lt;!-- &lt;!-- &gt; # "I'd never know quite how to get things done with matplotlib.  But with ggplot2 I could understand it without even looking at documentation (paraphrase) - Hassan Kibirige (plotnine: 'grammar of graphics for python' author) --&gt; --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- &lt;!-- # Hans Rosling &amp; BBC in 2010   --&gt; --&gt;

&lt;!-- &lt;!-- &lt;iframe width="767" height="431" src="https://www.youtube.com/embed/jbkSRLYSojo?list=PL6F8D7054D12E7C5A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt; --&gt; --&gt;

&lt;!-- &lt;!-- https://www.youtube.com/embed/jbkSRLYSojo?list=PL6F8D7054D12E7C5A --&gt; --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- &lt;!-- ## ... I know having the data is not enough. I have to show it in ways people both enjoy and understand --&gt; --&gt;

&lt;!-- &lt;!-- ```{r, out.width="65%", fig.align='center'} --&gt; --&gt;

&lt;!-- &lt;!-- knitr::include_graphics("images/hans_argument.png") --&gt; --&gt;

&lt;!-- &lt;!-- ``` --&gt; --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- &lt;!-- # 'Here we go. Life expectancy on the y-axis' --&gt; --&gt;

&lt;!-- &lt;!-- ```{r, out.width="80%"} --&gt; --&gt;

&lt;!-- &lt;!-- knitr::include_graphics("images/hans_y_axis.png") --&gt; --&gt;

&lt;!-- &lt;!-- ``` --&gt; --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- &lt;!-- # 'On the x-axis, wealth' --&gt; --&gt;

&lt;!-- &lt;!-- ```{r, out.width="80%"} --&gt; --&gt;

&lt;!-- &lt;!-- knitr::include_graphics("images/hans_x_axis.png") --&gt; --&gt;

&lt;!-- &lt;!-- ``` --&gt; --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- &lt;!-- # 'Colors represent the different continents' --&gt; --&gt;

&lt;!-- &lt;!-- ```{r, out.width="80%"} --&gt; --&gt;

&lt;!-- &lt;!-- knitr::include_graphics("images/hans_colors.png") --&gt; --&gt;

&lt;!-- &lt;!-- ``` --&gt; --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- &lt;!-- # 'Size represents population' --&gt; --&gt;

&lt;!-- &lt;!-- ```{r, out.width="80%"} --&gt; --&gt;

&lt;!-- &lt;!-- knitr::include_graphics("images/hans_size.png") --&gt; --&gt;

&lt;!-- &lt;!-- ``` --&gt; --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- &lt;!-- class: inverse, center, middle --&gt; --&gt;

&lt;!-- &lt;!-- #  Response to speaking plot into existence? --&gt; --&gt;

&lt;!-- &lt;!-- -- --&gt; --&gt;

&lt;!-- &lt;!-- # 10 million views... --&gt; --&gt;

&lt;!-- &lt;!-- -- --&gt; --&gt;

&lt;!-- &lt;!-- (also does animation at the end... which I don't show) --&gt; --&gt;

&lt;!-- &lt;!-- --- --&gt; --&gt;

&lt;!-- ```{r, out.width="45%"} --&gt;
&lt;!-- knitr::include_graphics("../../ggram/transcriber_of_imagined_plots.png") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## But, sometimes we don't have the vocabulary that's needed to keep 'speaking' fluently. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## Example: What's the graphical poem here? --&gt;

&lt;!-- ```{r, echo = F} --&gt;
&lt;!-- library(ggplot2) --&gt;
&lt;!-- ggplot(airquality) +  --&gt;
&lt;!--   aes(x = Ozone) +  --&gt;
&lt;!--   geom_rug() +  --&gt;
&lt;!--   geom_histogram() +  --&gt;
&lt;!--   ggxmean::geom_x_mean() --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ??? Consider for example, a the seemingly simple enterprise of adding a vertical line at the mean of x, perhaps atop a histogram or density plot. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- r chunk_reveal("basic", title = "### What's the *base* ggplot2 experience")` --&gt;

&lt;!-- ```{r basic} --&gt;
&lt;!-- airquality %&gt;%  --&gt;
&lt;!--   ggplot(data = .) +  --&gt;
&lt;!--   aes(x = Ozone) +  --&gt;
&lt;!--   geom_rug() +  --&gt;
&lt;!--   geom_histogram() +  --&gt;
&lt;!--   geom_vline( --&gt;
&lt;!--     xintercept =  --&gt;
&lt;!--       mean(airquality$Ozone,  --&gt;
&lt;!--            na.rm = T) --&gt;
&lt;!--     ) -&gt; --&gt;
&lt;!-- g --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ??? Creating this plot requires greater focus on ggplot2 *syntax*, likely detracting from discussion of *the mean* that statistical instructors desire. It may require a discussion about dollar sign syntax and how geom_vline is actually a special geom -- an annotation -- rather than being mapped to the data. None of this is relevant to the point you as an instructor aim to make: maybe that the the mean is the balancing point of the data or maybe a comment about skewness. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ### Adding the conditional means? --&gt;

&lt;!-- ```{r cond_means_hard, echo = F} --&gt;
&lt;!-- airquality %&gt;%  --&gt;
&lt;!--   group_by(Month) %&gt;%  --&gt;
&lt;!--   summarise( --&gt;
&lt;!--     Ozone_mean =  --&gt;
&lt;!--       mean(Ozone, na.rm = T) --&gt;
&lt;!--     ) -&gt; --&gt;
&lt;!-- airquality_by_month --&gt;

&lt;!-- ggplot(airquality) +  --&gt;
&lt;!--   aes(x = Ozone) +  --&gt;
&lt;!--   geom_histogram() +  --&gt;
&lt;!--   facet_grid(rows = vars(Month)) + --&gt;
&lt;!--   geom_vline(data = airquality_by_month,  --&gt;
&lt;!--              aes(xintercept =  --&gt;
&lt;!--                Ozone_mean)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ??? --&gt;

&lt;!-- Further, for the case of adding a vertical line at the mean for different subsets of the data, a different approach is required. This enterprise may take instructor/analyst/student on an even larger detour -- possibly googling, and maybe landing on the following stack overflow page where 11,000 analytics souls (some repeats to be sure) have landed: --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- r chunk_reveal("cond_means_hard", title = "#### Conditional means (may require a trip to stackoverflow!)")` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- # Why is something like geom_smooth() is so easy, and my mean of x line is so hard? --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## ggbump --&gt;

&lt;!-- ```{r, echo = F} --&gt;
&lt;!-- library(tidyverse) --&gt;
&lt;!-- theme_set(theme_gray(base_size = 18)) --&gt;
&lt;!-- us_and_peers &lt;- c("United States", "Germany",  --&gt;
&lt;!--                   "United Kingdom", "France",  --&gt;
&lt;!--                   "Canada") --&gt;

&lt;!-- gapminder::gapminder %&gt;%  --&gt;
&lt;!--   filter(country %in% us_and_peers) %&gt;%  --&gt;
&lt;!--   mutate(life_exp_rank = rank(-lifeExp),  --&gt;
&lt;!--          .by = year) -&gt; --&gt;
&lt;!-- us_cohort_life_exp_rank_2020 --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- r chunk_reveal("bump")` --&gt;

&lt;!-- ```{r bump, include = F} --&gt;
&lt;!-- library(tidyverse) --&gt;
&lt;!-- library(ggbump) --&gt;

&lt;!-- us_cohort_life_exp_rank_2020 %&gt;%  --&gt;
&lt;!--   ggplot() +  --&gt;
&lt;!--   aes(x = year) +  --&gt;
&lt;!--   aes(y = life_exp_rank) +  --&gt;
&lt;!--   geom_point() +  --&gt;
&lt;!--   aes(color = country) +  --&gt;
&lt;!--   geom_bump() #&lt;&lt; --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- # Snappy Graphical Poem!!! --&gt;

&lt;!-- -- --&gt;

&lt;!-- # Some nice plot Ar.ti.cu.la.tion! --&gt;

&lt;!-- -- --&gt;

&lt;!-- # Grateful when plot composition is *staccato*. --&gt;

&lt;!-- ```{r, eval = F} --&gt;
&lt;!-- life_exp_rank_2020 %&gt;%  --&gt;
&lt;!--   ggplot() +  --&gt;
&lt;!--   aes(x = year,  --&gt;
&lt;!--       y = life_exp_rank,  --&gt;
&lt;!--       color = country) +  --&gt;
&lt;!--   geom_point() +  --&gt;
&lt;!--   geom_bump()  #&lt;&lt; --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## Saw Thomas Lin Pederson's talk 'Extending your ability to extend ggplot2' January 2020 geom_circle() - (live at RStudio::Conf) --&gt;

&lt;!-- -- --&gt;

&lt;!-- #### and tried --&gt;

&lt;!-- -- --&gt;

&lt;!-- #### and failed --&gt;

&lt;!-- -- --&gt;

&lt;!-- #### and tried --&gt;

&lt;!-- -- --&gt;

&lt;!-- #### and failed --&gt;

&lt;!-- -- --&gt;

&lt;!-- #### and kind of figured things out in December 2020.... --&gt;

&lt;!-- -- --&gt;

&lt;!-- And it was everything I'd hoped for! --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- My experience, might be pretty typical... 2x I've heard folks say 'extension is not for the faint of heart'. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- # Wanted to fit in more extension to my life --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## Fall 2021 Independent studies... &lt;https://github.com/EvaMaeRey/ay_2022_2_advanced_individual_study-&gt; --&gt;

&lt;!-- ### - `geom_high_leverage` Morgan --&gt;

&lt;!-- ### - `geom_high_influence` Madison --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## Spring 2022 independent study: make a tutorial. --&gt;

&lt;!-- ### w/ Morgan: 'a no-struggle introduction to layer extension, for unsophisticated ggplot2 users' --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## 3 examples, 3 exercises, 3 objectives: --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## - 1. Learn how to prepare compute for group-wise computation in a layer --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## - 2. Learn how to define a Stat (and test) --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## - 3. Learn how to combine a Stat and Geom into a user-facing function --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## How to make it easy? --&gt;

&lt;!-- ## - easy, familiar (boring) compute --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## - step-by-step --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## - pre step (Step 0) - connect it to what you know (get the job done with base ggplot2) --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- # Stat-based geom\_\*() functions is focus. Why? --&gt;

&lt;!-- ## - Stats are easy\* --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## - `geoms_\*()`s are familiar --&gt;

&lt;!-- -- --&gt;

&lt;!-- -   relatively easy compared to Geoms and position... --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- # Stat-based geom\_\*() functions is focus. Why? --&gt;

&lt;!-- #### \&gt; I've used ggplot for a very long time... Conceptually I get `$$the difference between `stat_*()` functions and `geom_()*`s functions.$$` But... I would not put `+ stat_*()` anything. That's not something I would naturally do after using the gg platform... for 10 years. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## In 2023, survey, focus group about bare-bones, download a .Rmd --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## 2024 Moved to webr/quarto, added explanation (I didn't really have much vocabulary in 2023!) --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## May 2025 survey + focus group... --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## Participant profile --&gt;

&lt;!-- ```{r, echo = F, fig.show='hold', out.width="25%"} --&gt;
&lt;!-- files &lt;- fs::dir_ls("../../posit-consulting/report_figures/") --&gt;

&lt;!-- knitr::include_graphics(path = files[1]) --&gt;
&lt;!-- knitr::include_graphics(path = files[2]) --&gt;
&lt;!-- knitr::include_graphics(path = files[3]) --&gt;
&lt;!-- knitr::include_graphics(path = files[4]) --&gt;
&lt;!-- knitr::include_graphics(path = files[5]) --&gt;
&lt;!-- knitr::include_graphics(path = files[6]) --&gt;
&lt;!-- knitr::include_graphics(path = files[7]) --&gt;
&lt;!-- knitr::include_graphics(path = files[8]) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- knitr::include_graphics("../../posit-consulting/step0.png") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- knitr::include_graphics("../../posit-consulting/step1.png") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- knitr::include_graphics("../../posit-consulting/step3.png") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- knitr::include_graphics("../../posit-consulting/done.png") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## Participant feedback --&gt;

&lt;!-- ```{r, echo = F, fig.show='hold'} --&gt;
&lt;!-- files &lt;- fs::dir_ls("../../posit-consulting/report_figures/") --&gt;

&lt;!-- knitr::include_graphics(path = files[11]) --&gt;
&lt;!-- knitr::include_graphics(path = files[12]) --&gt;
&lt;!-- knitr::include_graphics(path = files[13]) --&gt;
&lt;!-- knitr::include_graphics(path = files[14]) --&gt;
&lt;!-- knitr::include_graphics(path = files[15]) --&gt;
&lt;!-- knitr::include_graphics(path = files[16]) --&gt;
&lt;!-- knitr::include_graphics(path = files[17]) --&gt;
&lt;!-- knitr::include_graphics(path = files[18]) --&gt;

&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- # 'You are here êÑÇ' --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## Now 'easy geom recipes' X July 2025 release --&gt;

&lt;!-- -- --&gt;

&lt;!-- ggplot2 release party at ggplot2 extenders meetup. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- &gt; # It was that easy. And I felt empowered as a result of that‚Ä¶. But you know, like, my problem isn‚Äôt gonna be that easy. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- Support group... --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- # In next ggplot2 release --&gt;

&lt;!-- ```{r, echo = F} --&gt;
&lt;!-- library(ggplot2) --&gt;
&lt;!-- StatMedians &lt;- ggproto("StatMedians", Stat) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- &gt; #### 'take care to match the argument order and naming used in the ggplot2‚Äôs constructors so you don‚Äôt surprise your users.' --&gt;

&lt;!-- -- --&gt;

&lt;!-- #### Writing user-facing function will get so easy! (and maybe a little more mysterious...) --&gt;

&lt;!-- ```{r, eval = T, echo = T} --&gt;
&lt;!-- stat_medians &lt;- make_constructor(StatMedians, geom = "point") --&gt;
&lt;!-- geom_medians &lt;- make_constructor(GeomPoint, stat = "medians") --&gt;

&lt;!-- geom_medians --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ### Also, --&gt;

&lt;!-- -- --&gt;

&lt;!-- ### 'I've opened a PR for adding a 'manual' stat, where essentially the compute_group() method is available to the user. --&gt;

&lt;!-- ### Probably a lot of your recipes work there as well, without having to actually build a Stat :)' - Teun in extenders discussions Sept 2024 --&gt;

&lt;!-- &lt;https://github.com/tidyverse/ggplot2/pull/6143&gt; --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ### ggplot2 4.0.0 Epilogue: our vline at mean of x motivating example w/ ggplot2 4.0.0 stat_manual... Not bad! --&gt;

&lt;!-- ```{r, echo = T, fig.show="hold", out.width="25%"} --&gt;
&lt;!-- library(ggplot2) --&gt;
&lt;!-- ggplot(airquality) + --&gt;
&lt;!--   aes(x = Ozone) + --&gt;
&lt;!--   geom_histogram() + --&gt;
&lt;!--   stat_manual(geom = GeomVline, --&gt;
&lt;!--               fun = ~ summarize(.x, xintercept = mean(x, na.rm = T))) --&gt;

&lt;!-- last_plot() +  --&gt;
&lt;!--   facet_grid(rows = vars(Month)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## Willing to type a tad more: `geom_xmean` 'easy recipes approach' X ggplot2 4.0.0's make_constructor()? --&gt;

&lt;!-- ```{r, fig.show="hold"} --&gt;
&lt;!-- compute_means &lt;- function(data, scales){ --&gt;
&lt;!--   data |&gt; summarise(xintercept = mean(x, na.rm = T))  --&gt;
&lt;!-- } --&gt;

&lt;!-- StatXmean &lt;- ggproto("StatXmean",  --&gt;
&lt;!--                      Stat,  --&gt;
&lt;!--                      compute_group = compute_means,  --&gt;
&lt;!--                      required_aes = "x") --&gt;

&lt;!-- geom_xmean &lt;- make_constructor(GeomVline, stat = StatXmean) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- # --\&gt; the ggplot2 experience! --&gt;

&lt;!-- ```{r, out.width="25%", echo= T, fig.show='hold'} --&gt;
&lt;!-- ggplot(airquality) + --&gt;
&lt;!--   aes(x = Ozone) + --&gt;
&lt;!--   geom_histogram() + --&gt;
&lt;!--   geom_xmean() #&lt;&lt; --&gt;

&lt;!-- last_plot() +  --&gt;
&lt;!--   facet_grid(rows = vars(Month)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ## But, stat_manual made me feel I should cover more territory (lest you ask why do I need the recipes, I can get everything done w/ stat_manual) --&gt;

&lt;!-- -- --&gt;

&lt;!-- So now there are 4 recipes, where compute_panel is introduced (not just compute_group) in recipe 2 and used in 3 and 4. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- New questions... --&gt;

&lt;!-- ## Are `compute_panel` recipes they still accessible, interesting enough, correct? --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## Do you still feel motivated by `compute_group` Stat example given stat_manual? --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- &gt; Wait, why did we do a Stat and not a Geom like, like ... the tutorial starts with, you're gonna make a geom\_*() but I made a stat\_*(). --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- &gt; **Participant H** I just think that it's weird to have two things that live at the `$$same level$$`, because ultimately they all filter down to layer. And it's really a layer that you're creating. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- &gt; **Participant D** There's a sense in which also, like, you feel that maybe everything should just be 'layer\_'. But the problem is that nobody actually does that in practice. And so, you know, you would be teaching something, and it would be kind of a ggplot variant that nobody else really uses. --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- &gt; 'Stat objects are almost always paired with a geom\_\*() constructor because most ggplot2 users are accustomed to adding geom\_\*()s, not stat\_\*()s, when building up a plot.' - ggplot2 book, Extension springs case study --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- knitr::include_graphics("../../posit-consulting/report_figures/unnamed-chunk-35-1.svg") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- knitr::include_graphics("../../posit-consulting/report_figures/unnamed-chunk-35-2.svg") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ------------------------------------------------------------------------ --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- knitr::include_graphics("../../posit-consulting/report_figures/unnamed-chunk-35-3.svg") --&gt;
&lt;!-- ``` --&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
  "ratio": "16:9",
  "highlightStyle": "github",
  "highlightLines": true,
  "countIncrementalSlides": false,
  "seal": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
